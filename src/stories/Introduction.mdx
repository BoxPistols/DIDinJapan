{/* Introduction.mdx */}
import { Meta } from '@storybook/blocks'
import { TableStyle } from './components/TableStyle'

<Meta title="Introduction" />

export const LinkStyle = {
  display: 'inline-flex',
  alignItems: 'center',
  gap: '8px',
  padding: '8px 16px',
  backgroundColor: 'rgba(74, 158, 255, 0.1)',
  borderRadius: '8px',
  textDecoration: 'none',
  color: '#4a9eff',
  fontWeight: 500,
  marginRight: '12px',
  marginBottom: '12px'
}

# Japan Overlay Map

日本の各種地理データをオーバーレイ表示できる汎用地図ライブラリです。

<div style={{ marginTop: '16px', marginBottom: '24px' }}>
  <a href="https://github.com/BoxPistols/DID-J26" target="_blank" rel="noopener noreferrer" style={LinkStyle}>
    GitHub Repository
  </a>
  <a href="https://didj.vercel.app/" target="_blank" rel="noopener noreferrer" style={LinkStyle}>
    Live Demo
  </a>
</div>

---

## 概要

このライブラリは、日本国内の各種地理情報・規制エリア・気象データを地図上に表示するための機能を提供します。

**主なユースケース:**
- 地理情報の可視化・分析
- 規制エリア（DID、空港周辺等）の確認
- 気象情報のオーバーレイ表示
- カスタムGeoJSONデータの管理

---

## 主な機能

### 規制エリア表示
- **空港周辺空域** - 32の主要空港と周辺の制限区域
- **DID（人口集中地区）** - 47都道府県のDIDエリア（国勢調査ベース）
- **飛行禁止法エリア** - 小型無人機等飛行禁止法に基づく区域

### 地理情報オーバーレイ
- **陰影起伏図** - 地形の陰影表現
- **色別標高図** - 標高による色分け
- **傾斜量図** - 地形の傾斜度

### 気象情報
- **雨雲レーダー** - RainViewer API連携（リアルタイム、5分更新）
- **天気予報** - Open-Meteo API連携（48時間予報 + 7日間週間予報）

### データ管理
- **GeoJSONインポート/エクスポート** - 独自データの追加
- **LocalStorage永続化** - ブラウザに保存
- **衝突検出** - 規制エリアとの重複判定

---

## 技術スタック

- **React 18** + **TypeScript**
- **MapLibre GL JS** - 地図レンダリング
- **Turf.js** - GeoJSON空間演算
- **Vite** - ビルドツール
- **Storybook 8** - ドキュメント

---

## データソース

<table style={TableStyle.table}>
  <thead style={TableStyle.thead}>
    <tr>
      <th style={TableStyle.th}>データ種別</th>
      <th style={TableStyle.th}>ソース</th>
      <th style={TableStyle.th}>備考</th>
    </tr>
  </thead>
  <tbody>
    <tr style={TableStyle.tr}>
      <td style={TableStyle.td}>DIDエリア</td>
      <td style={TableStyle.td}>e-Stat（国勢調査）</td>
      <td style={TableStyle.td}>5年ごと更新</td>
    </tr>
    <tr style={TableStyle.tr}>
      <td style={TableStyle.td}>空港周辺空域</td>
      <td style={TableStyle.td}>国土地理院タイル</td>
      <td style={TableStyle.td}>kokuareaタイル</td>
    </tr>
    <tr style={TableStyle.tr}>
      <td style={TableStyle.td}>地理院タイル</td>
      <td style={TableStyle.td}>国土地理院</td>
      <td style={TableStyle.td}>標準地図、航空写真等</td>
    </tr>
    <tr style={TableStyle.tr}>
      <td style={TableStyle.td}>雨雲レーダー</td>
      <td style={TableStyle.td}>RainViewer API</td>
      <td style={TableStyle.td}>5分ごと更新</td>
    </tr>
    <tr style={TableStyle.tr}>
      <td style={TableStyle.td}>天気予報</td>
      <td style={TableStyle.td}>Open-Meteo API</td>
      <td style={TableStyle.td}>1時間ごと更新</td>
    </tr>
  </tbody>
</table>

---

## クイックスタート

```bash
# リポジトリをクローン
git clone https://github.com/BoxPistols/DID-J26.git
cd DID-J26

# 依存関係をインストール
npm install

# 開発サーバーを起動
npm run dev

# Storybookを起動
npm run storybook
```

---

## ライセンス

MIT License

本プロジェクトは [dronebird/DIDinJapan](https://github.com/dronebird/DIDinJapan) をベースにしています。
